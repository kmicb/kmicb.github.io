<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Concertos of Chaos">
    <meta property="og:description" content="A Deaf Pianist Orchestrates Raw Mental Health Conversations Uncensored, Unedited, Unapologetic">
    <meta property="og:image" content="https://concertosofchaos.com/sm_logo_color.png">
    <meta property="og:url" content="https://concertosofchaos.com">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Concertos of Chaos">
    <meta name="twitter:description" content="A Deaf Pianist Orchestrates Raw Mental Health Conversations Uncensored, Unedited, Unapologetic">
    <meta name="twitter:image" content="https://concertosofchaos.com/sm_logo_color.png">
    <title>Concertos of Chaos</title>
    <style>
        /* :root {
            /* changes episode title and podcast title text color */
            /* --primary-color: #000000; */
            /* changes all text except the "Like my podcast?" line */
            /* --secondary-color: #000000; */
            /* changes nav buttons color */
            /* --accent-color: #000000; */
        /* } */

        html {
          background-color: #000000;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: url('03_rainbow_galaxy.png') no-repeat center top fixed;
            line-height: 1.6;
        }

        /* header box and 'support my podcast' box */
        .standard-box {
            text-align: center;
            margin-bottom: 1em;
            padding: 1em;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            border: 1px solid black;
            min-height: 275px;
        }

        .download-button:disabled {
          pointer-events: none;
        }

        .podcast-title {
            font-size: 2.5em;
            color: #000000;
            width: 70%
        }

        .podcast-description {
            color: #000000;
            font-size: 1.2em;
            margin-bottom: 1em;
        }
        
        .episode {
            margin-bottom: 1.5em;
            padding: 1.5em;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            background-color: white;
            border: 2px solid #e2e8f0;
        }

        .episode-image {
            float: right;
            width: 150px;
            height: auto;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-left: 1.5em;
        }

        .episode h2 {
            color: #000000;
            margin: 0 0 0.5em 0;
            font-size: 1.4em;
        }

        .episode-meta {
            color: #000000;
            font-size: 0.9em;
            margin-bottom: 1em;
        }

        .episode-description {
            color: #000000;
            margin-bottom: 1em;
        }

        .download-links {
            display: flex;
            gap: 1em;
            margin-top: 1em;
            justify-content: flex-start;
        }

        .download-button {
            display: inline-flex;
            align-items: center;
            padding: 0.5em 1em;
            background-color: #000000;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.9em;
            transition: background-color 0.2s;
        }

        .download-button:hover {
            background-color: #000000;
        }

        .episode-type {
            display: inline-block;
            padding: 0.25em 0.5em;
            background-color: #e2e8f0;
            border-radius: 4px;
            margin-right: 0.5em;
            font-size: 0.8em;
        }

        .episode-duration {
            margin-left: 1em;
        }

        .header-image {
            width: 35%;
            height: auto;
            display: block;
            margin: 1em auto 0;
            border-radius: 8px;
        }

        /* venmo image */
        .top-right-image {
            width: 175px;
            height: auto;
            border-radius: 8px;
            display: block;
            margin: 1em auto 0;
            padding-bottom: 0;
        }

        .image-text-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 0;
        }

        .image-text-container p {
            font-size: 1.2em;
            color: #000000;
            text-align: center;
        }

        .footer-shit {
          text-align: center;
          padding: 1em 0;
          background-color: #000000;
          border-color: black;
        }

        .flag-image {
          display: block;
          margin: 0 auto;
          max-width: 35%;
          height: auto;
          border-radius: 4px;
        }

        .the-footer {
          text-align: center;
          padding: 1em 0;
          background-color: #ffffff;
          border-color: black;
        }

        .nav-bar {
          display: flex;
          justify-content: center;
          gap: 1em;
          margin-bottom: 1em;
          /* flex-wrap: wrap; */
          /* padding: 1em; */
          /* background-color: ; */
          /* border-radius: 8px; */
          /* border: 1px solid black; */
          /* box-shadow: 0 2px 4px rgba(0,0,0,0.1); */
        }

        .nav-button {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          padding: 0.5em 1em;
          background-color: white;
          color: black;
          border: 1px solid black;
          border-radius: 4px;
          text-decoration: none;
          font-size: 0.9em;
          font-weight: bold;
          transition: background-color 0.2s;
        }

        .not-clickable {
          pointer-events: none;
          opacity: 0.5;
          cursor: default;
        }

        .nav-active {
          border: 2px solid white !important;
          box-shadow: 0 0 0 2px black, 0 0 8px rgba(255, 255, 255, 0.6);
          font-weight: bold;
          text-decoration: underline;
          color: #fff !important; /* in case another class overrides this */
        }

        .nav-red {
          background-color: #cc1b6a;
          color: rgb(255, 255, 255);
        }
        .nav-red:hover {
          background-color: #cc1b6a;
          color: #ffffff;
        }

        .nav-orange {
          background-color: #f45c27;
          color: #ffffff;
        }
        .nav-orange:hover {
          background-color: #f45c27;
          color: #ffffff;
        }

        .nav-yellow {
          background-color: #f7d61d;
          color: #ffffff;
        }
        .nav-yellow:hover {
          background-color: #f7d61d;
          color: #ffffff;
        }

        .nav-green {
          background-color: #5bc62e;
          color: #ffffff;
        }

        .nav-green:hover {
          background-color: #5bc62e;
          color: #ffffff;
        }

        .nav-blue {
          background-color: #1179e5;
          color: #ffffff;
        }

        .nav-blue:hover {
          background-color: #1179e5;
          color: #ffffff;
        }

        .nav-purple {
          background-color: #6c44c8;
          color: #ffffff;
        }

        .nav-purple:hover {
          background-color: #6c44c8;
          color: #ffffff;
        }

        /* Responsive styling for mobile devices */
    @media screen and (max-width: 768px) {
        .header-image {
            width: 90%;
            max-height: 200px;
            object-fit: contain;
        }

        .top-right-image {
            width: 90%;
            max-height: 200px;
            object-fit: contain;
            margin: 1em auto 0;
        }

        .image-text-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 2em;
        }

        .image-text-container img {
            margin-top: 1em;
        }
    }
    </style>
</head>
<body>
    <header class="standard-box">
        <!-- header box -->
        <img src="logo_data/horizontal_color.png" class="podcast-title">
        <div class="podcast-description"><b>A Deaf Pianist Orchestrates Raw Mental Health Conversations Uncensored, Unedited, Unapologetic</b></div>
    </header>
    <!-- season nav bar -->
    <nav class="nav-bar">
      <a href="" class="nav-button nav-red" data-season="s1">Season 01</a>
      <a href="" class="nav-button nav-orange not-clickable" data-season="s2">Season 02</a>
    </nav>

    <main id="episodes-container"></main>

    <script>
        // color defs for individual episode
        // background white, border black, buttons have individual palette colors (roygbi)
        const episodeColors = [
            { background: '#ffffff', border: '#000000', button: '#f7d61d' }, // Episode 8   Yellow
            { background: '#ffffff', border: '#000000', button: '#f45c27' }, // Episode 7   Orange
            { background: '#ffffff', border: '#000000', button: '#cc1b6a' }, // Episode 6   Red
            { background: '#ffffff', border: '#000000', button: '#6c44c8' }, // Episode 5   Violet
            { background: '#ffffff', border: '#000000', button: '#1179e5' }, // Episode 4   Blue
            { background: '#ffffff', border: '#000000', button: '#5bc62e' }, // Episode 3   Green
            { background: '#ffffff', border: '#000000', button: '#f7d61d' }, // Episode 2b  Yellow
            { background: '#ffffff', border: '#000000', button: '#f45c27' }, // Episode 2   Orange
            { background: '#ffffff', border: '#000000', button: '#cc1b6a' }, // Episode 1   Red
        ];

        function startCountdown(targetTime, countdownElement, downloadButton, item) {
          function updateCountdown() {
            const now = new Date();
            const timeLeft = targetTime.getTime() - now.getTime();
    
            if (timeLeft <= 0) {
              console.log("Countdown ended. Showing button.");
              downloadButton.innerText = 'Play Episode';
              downloadButton.disabled = false; // Make the button clickable
              downloadButton.href = item.getElementsByTagNameNS('*', 'enclosure')[0]?.getAttribute('url');
              clearInterval(timer);
            } else {
              const hours = Math.floor(timeLeft / (1000 * 60 * 60));
              const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
              const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
    
              downloadButton.innerText = `${hours}h ${minutes}m ${seconds}s`;
              downloadButton.disabled = true; // Keep the button disabled until the countdown ends
            }
          }
          
          updateCountdown(); // Initial call
          const timer = setInterval(updateCountdown, 1000); // Update every second
        }
    
        async function fetchAndDisplayPodcast() {
          try {
            const response = await fetch('rss.xml');
            const text = await response.text();
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(text, 'text/xml');
    
            const items = xmlDoc.getElementsByTagName('item');
            const episodesContainer = document.getElementById('episodes-container');
    
            Array.from(items).forEach((item, index) => {
              const itunesNS = 'http://www.itunes.com/dtds/podcast-1.0.dtd';
              const title = item.getElementsByTagNameNS('*', 'title')[0]?.textContent;
              const description = item.getElementsByTagNameNS('*', 'description')[0]?.textContent.trim();
              const pubDateStr = item.getElementsByTagNameNS('*', 'pubDate')[0]?.textContent;
              const releaseTime = new Date(pubDateStr);
              const timezoneOffset = releaseTime.getTimezoneOffset() * 60 * 1000;
              const adjustedReleaseTime = new Date(releaseTime.getTime() + timezoneOffset);

              const episodeDiv = document.createElement('div');
              episodeDiv.className = 'episode';
              
              // Apply colors for this episode (fallback to default if not enough colors defined)
              const colorIndex = index < episodeColors.length ? index : index % episodeColors.length;
              const colors = episodeColors[colorIndex];
              
            //   episodeDiv.style.backgroundColor = colors.background;
              if (colors.background.startsWith('url')) {
                episodeDiv.style.backgroundImage = colors.background;
                episodeDiv.style.backgroundSize = 'cover';
                episodeDiv.style.backgroundRepeat = 'no-repeat';
                episodeDiv.style.backgroundPosition = 'center';
              }
              episodeDiv.style.borderColor = colors.border;
              
              episodeDiv.innerHTML = `
                <div class="episode-content">
                  <h2>${title}</h2>
                  <div class="episode-meta">
                    ${item.getElementsByTagNameNS(itunesNS, 'season')[0]?.textContent ? `Season ${item.getElementsByTagNameNS(itunesNS, 'season')[0]?.textContent}` : ''}
                    ${item.getElementsByTagNameNS(itunesNS, 'episode')[0]?.textContent ? `Episode ${item.getElementsByTagNameNS(itunesNS, 'episode')[0]?.textContent}` : ''}
                    <span class="episode-duration">${item.getElementsByTagNameNS('*', 'duration')[0]?.textContent}</span>
                    <div>${new Date(pubDateStr).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</div>
                  </div>
                  <div class="episode-description">${description}</div>
                </div>
              `;
    
              const enclosures = item.getElementsByTagNameNS('*', 'enclosure');
              const mediaButtons = document.createElement('div');
              mediaButtons.className = 'download-links';
    
              Array.from(enclosures).forEach(enclosure => {
                  const type = enclosure.getAttribute('type');
                  const url = enclosure.getAttribute('url');
                  
                  if (url) {
                      const button = document.createElement('a');
                      button.href = url;
                      button.className = 'download-button';
                      
                      // Apply the button color for this episode
                      button.style.backgroundColor = colors.button;
                      button.style.color = '#000000';
                      button.style.fontWeight = 'bold';
                      
                      // Set button text based on media type
                      if (type.includes('video')) {
                          button.innerText = 'Play Video';
                      } else if (type.includes('audio')) {
                          button.innerText = 'Play Audio';
                      }
    
                      if (new Date() < releaseTime) {
                          button.removeAttribute('href');
                          startCountdown(releaseTime, null, button, item);
                      } else {
                          button.disabled = false;
                      }
    
                      mediaButtons.appendChild(button);
                  }
              });
    
              episodeDiv.appendChild(mediaButtons);
    
              episodesContainer.appendChild(episodeDiv);
            });
          } catch (error) {
            console.error('Error fetching podcast feed:', error);
            document.getElementById('episodes-container').innerHTML = '<p>Error loading podcast episodes. Please try again later.</p>';
          }
        }
    
        document.addEventListener('DOMContentLoaded', fetchAndDisplayPodcast);

        document.querySelectorAll('.nav-button').forEach(button => {
          button.addEventListener('click', function (e) {
            e.preventDefault();
            // Remove active class from all
            document.querySelectorAll('.nav-button').forEach(btn => {
              btn.classList.remove('nav-active');
            });

            // Add to clicked
            this.classList.add('nav-active');
      // (optional) Show relevant content if you're fading between sections
      const season = this.dataset.season;
      document.querySelectorAll('.season-container').forEach(container => {
        container.classList.remove('active');
      });
      document.getElementById(`season-${season}`).classList.add('active');
    });
  });
      </script>

      <div class="standard-box">
        <div class="image-text-container">
          <b>Like my podcast? You can support me!</b>
          <img src="venmo.jpeg" alt="Venmo QR" class="top-right-image">
        </div>
      </div>

  <img src="palestine.jpg" alt="Palestine Flag" class="flag-image">
  <p></p>

  <footer class="the-footer">
    &copy; <b>2025 Concertos of Chaos. All rights reserved.</b>
  </footer>
</body>
</html>